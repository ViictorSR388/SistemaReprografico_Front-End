{"ast":null,"code":"var _jsxFileName = \"/home/lucca/Documents/github/repro/front-end/reprografia_front-end/src/pages/newUser/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { AuthContext } from './../../helpers/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport '../../styles/newUser.scss';\nimport NewUserContainer from '../../components/newUserContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewUser() {\n  _s();\n\n  const {\n    setAuthState\n  } = useContext(AuthContext);\n  var history = useHistory();\n  useEffect(() => {\n    axios.get(\"http://localhost:3002/auth\", {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.status === 500 || response.data.error) {\n        setAuthState({\n          status: false\n        });\n        history.push('./');\n      } else {\n        setAuthState({\n          nif: response.data.nif,\n          email: response.data.email,\n          nome: response.data.nome,\n          imagem: \"http://localhost:3002/\" + response.data.imagem,\n          roles: response.data.roles,\n          status: true\n        });\n        var resposta = response.data.roles.includes(\"3_ROLE_ADMIN\");\n\n        if (resposta === false) {\n          setAuthState({\n            status: false\n          });\n          history.push('./notAuthorized');\n        }\n      }\n    });\n  }, []); //nome\n\n  const [nameUser, setNameUser] = useState(''); //email\n\n  const [emailUser, setEmailUser] = useState(''); //senha\n\n  const [senhaUser, setSenhaUser] = useState(''); //nif\n\n  const [nifUser, setNifUser] = useState(''); //cfp\n\n  const [cfpUser, setCfpUser] = useState(''); //telefone\n\n  const [telefoneUser, setTelefoneUser] = useState(''); //departamento\n\n  const [deptoUser, setDeptoUser] = useState('');\n  var departamento;\n\n  if (deptoUser === 'AIP') {\n    departamento = 1;\n  } else if (deptoUser === 'GTP') {\n    departamento = 2;\n  } else if (deptoUser === 'PGP') {\n    departamento = 3;\n  } else if (deptoUser === 'EP') {\n    departamento = 4;\n  } else if (deptoUser === 'IPP') {\n    departamento = 5;\n  } else if (deptoUser === 'QPP') {\n    departamento = 6;\n  } else if (deptoUser === 'AEPP') {\n    departamento = 7;\n  }\n\n  const CreateUserPost = () => {\n    const data = {\n      nome: nameUser,\n      email: emailUser,\n      senha: senhaUser,\n      nif: nifUser,\n      cfp: cfpUser,\n      telefone: telefoneUser,\n      depto: departamento\n    };\n    axios.post('http://localhost:3002/registrar', data, {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    CreateUserPost();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(NewUserContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"h2\",\n        className: \"nu-subTitle\",\n        children: \"Criar novo usu\\xE1rio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"nameUser\",\n          type: \"text\",\n          placeholder: \"Nome\",\n          required: true,\n          onChange: e => {\n            setNameUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"emailUser\",\n          type: \"email\",\n          placeholder: \"E-mail\",\n          required: true,\n          onChange: e => {\n            setEmailUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"senhaUser\",\n          type: \"password\",\n          placeholder: \"Senha\",\n          required: true,\n          onChange: e => {\n            setSenhaUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"nifUser\",\n          type: \"text\",\n          placeholder: \"NIF\",\n          required: true,\n          onChange: e => {\n            setNifUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"cfpUser\",\n          type: \"text\",\n          placeholder: \"CFP\",\n          required: true,\n          onChange: e => {\n            setCfpUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-box\",\n          name: \"telefoneUser\",\n          type: \"text\",\n          placeholder: \"Telefone\",\n          required: true,\n          onChange: e => {\n            setTelefoneUser(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"departamento\",\n          children: \"DEPARTAMENTO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select\",\n          id: \"deptoUser\",\n          name: \"deptoUser\",\n          required: true,\n          onChange: e => {\n            setDeptoUser(e.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"AIP\",\n            name: \"AIP\",\n            id: \"AIP\",\n            children: \"Aprendizagem Industrial Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"GTP\",\n            name: \"GTP\",\n            id: \"GTP\",\n            children: \"Gradua\\xE7\\xE3o Tecnol\\xF3gica Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PGP\",\n            name: \"PGP\",\n            id: \"PGP\",\n            children: \"P\\xF3s-Gradua\\xE7\\xE3o Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"EP\",\n            name: \"EP\",\n            id: \"EP\",\n            children: \"Extens\\xE3o Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"IPP\",\n            name: \"IPP\",\n            id: \"IPP\",\n            children: \"Inicia\\xE7\\xE3o Profissional Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"QPP\",\n            name: \"QPP\",\n            id: \"QPP\",\n            children: \"Qualifica\\xE7\\xE3o Profissional Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"AEPP\",\n            name: \"AEPP\",\n            id: \"AEPP\",\n            children: \"Aperfei\\xE7./Especializ. Profis. Presencial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"nu-button\",\n            id: \"btn\",\n            value: \"Enviar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"nu-button\",\n            id: \"btn\",\n            value: \"Voltar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewUser, \"thgi61kBwRRTLmN48YU9+28S2e8=\", false, function () {\n  return [useHistory];\n});\n\n_c = NewUser;\n;\nexport default NewUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewUser\");","map":{"version":3,"sources":["/home/lucca/Documents/github/repro/front-end/reprografia_front-end/src/pages/newUser/index.js"],"names":["React","useEffect","useContext","useState","AuthContext","useHistory","axios","NewUserContainer","NewUser","setAuthState","history","get","headers","accessToken","localStorage","getItem","then","response","status","data","error","push","nif","email","nome","imagem","roles","resposta","includes","nameUser","setNameUser","emailUser","setEmailUser","senhaUser","setSenhaUser","nifUser","setNifUser","cfpUser","setCfpUser","telefoneUser","setTelefoneUser","deptoUser","setDeptoUser","departamento","CreateUserPost","senha","cfp","telefone","depto","post","onSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useContext, useState} from 'react';\nimport { AuthContext } from './../../helpers/AuthContext';\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios';\nimport '../../styles/newUser.scss';\n\nimport NewUserContainer from '../../components/newUserContainer';\n\nfunction NewUser () {\n  const { setAuthState } = useContext(AuthContext);\n  var history = useHistory();\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:3002/auth\", {\n        headers: {\n          accessToken: localStorage.getItem(\"accessToken\"),\n        },\n      })\n      .then((response) => {\n        if (response.status === 500 || response.data.error) {\n          setAuthState({ status: false });\n          history.push('./')\n        }\n        else {\n          setAuthState({\n            nif: response.data.nif,\n            email: response.data.email,\n            nome: response.data.nome,\n            imagem: \"http://localhost:3002/\" + response.data.imagem,\n            roles: response.data.roles,\n            status: true\n          });\n          var resposta = response.data.roles.includes(\"3_ROLE_ADMIN\");\n          if (resposta === false) {\n            setAuthState({ status: false });\n            history.push('./notAuthorized')\n        }\n      }\n    })\n  }, []);\n\n  //nome\n  const [nameUser, setNameUser] = useState('');\n  //email\n  const [emailUser, setEmailUser] = useState('');\n  //senha\n  const [senhaUser, setSenhaUser] = useState('');\n  //nif\n  const [nifUser, setNifUser] = useState('');\n  //cfp\n  const [cfpUser, setCfpUser] = useState('');\n  //telefone\n  const [telefoneUser, setTelefoneUser] = useState('');  \n  //departamento\n  const [deptoUser, setDeptoUser] = useState('');\n  \n  var departamento;\n\n  if (deptoUser === 'AIP') {\n    departamento = 1;\n  } else if (deptoUser === 'GTP') {\n    departamento = 2;\n  } else if (deptoUser === 'PGP') {\n    departamento = 3;\n  } else if (deptoUser === 'EP') {\n    departamento = 4;\n  } else if (deptoUser === 'IPP') {\n    departamento = 5;\n  } else if (deptoUser === 'QPP') {\n    departamento = 6;\n  } else if (deptoUser === 'AEPP') {\n    departamento = 7;\n  }\n\n  const CreateUserPost = () => {\n    const data = {\n      nome: nameUser,\n\n      email: emailUser,\n\n      senha: senhaUser,\n\n      nif: nifUser,\n\n      cfp: cfpUser,\n\n      telefone: telefoneUser,\n\n      depto:  departamento,\n    }\n    axios.post('http://localhost:3002/registrar', data, {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    })\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    CreateUserPost();\n  }\n\n  return (\n    <div className=\"content\">\n      <NewUserContainer />\n      <div className=\"container\">\n        <h2 id=\"h2\" className=\"nu-subTitle\">\n          Criar novo usuário\n        </h2>\n        <form onSubmit={onSubmit}>\n          <input\n            className=\"input-box\"\n            name=\"nameUser\"\n            type=\"text\"\n            placeholder=\"Nome\"\n            required\n            onChange={(e) => {\n              setNameUser(e.target.value);\n            }}\n          />\n          <input\n            className=\"input-box\"\n            name=\"emailUser\"\n            type=\"email\"\n            placeholder=\"E-mail\"\n            required\n            onChange={(e) => {\n              setEmailUser(e.target.value);\n            }}\n          />\n          <input\n            className=\"input-box\"\n            name=\"senhaUser\"\n            type=\"password\"\n            placeholder=\"Senha\"\n            required\n            onChange={(e) => {\n              setSenhaUser(e.target.value);\n            }}\n          />\n          <input\n            className=\"input-box\"\n            name=\"nifUser\"\n            type=\"text\"\n            placeholder=\"NIF\"\n            required\n            onChange={(e) => {\n              setNifUser(e.target.value);\n            }}\n          />\n          <input\n            className=\"input-box\"\n            name=\"cfpUser\"\n            type=\"text\"\n            placeholder=\"CFP\"\n            required\n            onChange={(e) => {\n              setCfpUser(e.target.value);\n            }}\n          />\n          <input\n            className=\"input-box\"\n            name=\"telefoneUser\"\n            type=\"text\"\n            placeholder=\"Telefone\"\n            required\n            onChange={(e) => {\n              setTelefoneUser(e.target.value);\n            }}\n          />\n          <h3 className=\"departamento\">DEPARTAMENTO</h3>\n          <select\n            className=\"select\"\n            id=\"deptoUser\"\n            name=\"deptoUser\"\n            required\n            onChange={(e) => {\n              setDeptoUser(e.target.value);\n            }}\n          >\n            <option value=\"AIP\" name=\"AIP\" id=\"AIP\">\n              Aprendizagem Industrial Presencial\n            </option>\n            <option value=\"GTP\" name=\"GTP\" id=\"GTP\">\n              Graduação Tecnológica Presencial\n            </option>\n            <option value=\"PGP\" name=\"PGP\" id=\"PGP\">\n              Pós-Graduação Presencial\n            </option>\n            <option value=\"EP\" name=\"EP\" id=\"EP\">\n              Extensão Presencial\n            </option>\n            <option value=\"IPP\" name=\"IPP\" id=\"IPP\">\n              Iniciação Profissional Presencial\n            </option>\n            <option value=\"QPP\" name=\"QPP\" id=\"QPP\">\n              Qualificação Profissional Presencial\n            </option>\n            <option value=\"AEPP\" name=\"AEPP\" id=\"AEPP\">\n              Aperfeiç./Especializ. Profis. Presencial\n            </option>\n          </select>\n          <div className=\"btns\">\n            <input\n              type=\"submit\"\n              className=\"nu-button\"\n              id=\"btn\"\n              value=\"Enviar\"\n            />\n            <input\n              className=\"nu-button\"\n              id=\"btn\"\n              value=\"Voltar\"\n            />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default NewUser;"]},"metadata":{},"sourceType":"module"}